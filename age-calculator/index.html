<html>
<head>
  <link rel="stylesheet" href="css/styles.css">
  <meta name = "viewport" content = "width = device-width, initial-scale = 1">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
<script>

function ageCalculator() {
    var userinput = document.getElementById("DOB").value;
    var dob = new Date(userinput);

    if(userinput==null || userinput==''){
      document.getElementById("message").innerHTML = "**Choose a date please!";
      return false;
    }

    else {
    var dobYear = dob.getYear();
    var dobMonth = dob.getMonth();
    var dobDate = dob.getDate();

    var now = new Date();
    var currentYear = now.getYear();
    var currentMonth = now.getMonth();
    var currentDate = now.getDate();

    var age = {};
    var ageString = "";

    yearAge = currentYear - dobYear;

    if (currentMonth >= dobMonth)
      var monthAge = currentMonth - dobMonth;
    else {
      yearAge--;
      var monthAge = 12 + currentMonth - dobMonth;
    }

    if (currentDate >= dobDate)
      var dateAge = currentDate - dobDate;
    else {
      monthAge--;
      var dateAge = 31 + currentDate - dobDate;

      if (monthAge < 0) {
        monthAge = 11;
        yearAge--;
      }
    }
    age = {
    years: yearAge,
    months: monthAge,
    days: dateAge
    };


    if ( (age.years > 0) && (age.months > 0) && (age.days > 0) )
       ageString = age.years + " years, " + age.months + " months, and " + age.days + " days old.";
    else if ( (age.years == 0) && (age.months == 0) && (age.days > 0) )
       ageString = "Only " + age.days + " days old!";

    else if ( (age.years > 0) && (age.months == 0) && (age.days == 0) )
       ageString = age.years +  " years old. Happy Birthday!!";
    else if ( (age.years > 0) && (age.months > 0) && (age.days == 0) )
       ageString = age.years + " years and " + age.months + " months old.";
    else if ( (age.years == 0) && (age.months > 0) && (age.days > 0) )
       ageString = age.months + " months and " + age.days + " days old.";
    else if ( (age.years > 0) && (age.months == 0) && (age.days > 0) )
       ageString = age.years + " years, and" + age.days + " days old.";
    else if ( (age.years == 0) && (age.months > 0) && (age.days == 0) )
       ageString = age.months + " months old.";


    else ageString = "Welcome to Earth! <br> It's first day on Earth!";


    return document.getElementById("result").innerHTML = ageString;

  }
}
</script>
</head>
<body>
  <div class="row">
    <h2> Calculate Age from Date of Birth</h2>
  </div>

<div class = "row">
         <form class = "col s2 offset-s5">
            <div class = "row">
               <input type = "date" id="DOB" class = "datepicker" />
            </div>
         </form>
      </div>
  <div class="row">
<a class="waves-effect waves-light  blue-grey darken-4  btn-small" onclick=ageCalculator()>Calculate Age</a>
  </div>
<h3 id="result" align="center"></h3>

<h6 class="foot"> Guided by : Ms. Shinde Anita J.<br />Developed by : Parsure Sangmeshwar with Waghmode Atharv & Wadekar Vaibhav</h6>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
</body>
</html>
